<div class="worksView work-details">
    <div class="work-container observable">
        <div class="inner-work-container fade" ng-if="vm.showWork">
            <div class="work-image">
                <img class="image-image" ng-src="{{vm.currentWork.url}}" alt="Kalina Kraleva {{vm.currentWork.name}}">
            </div>
            <div class="details">
                <h3 class="name">{{vm.currentWork.name}}</h3>
                <span class="technique">{{vm.currentWork.technique}},</span>
                <span class="year">{{vm.currentWork.year}},</span>
                <span class="size">{{vm.currentWork.size}}</span>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        if (observer) {
            observer.disconnect();
        }  else {
            var observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    var image = $('.image-image');

                    if (image.length > 0) {
                        image[0].onload = function() {
                            var img = $('.image-image');
                            var imageMargin = img.css('margin-left');
                            var details = image.parent().siblings('.details');
                            details.animate({
                                marginLeft: imageMargin
                            }, 1000);
                        };
                    }
                });
            });
        }

        // configuration of the observer:
        var config = {
            childList: true,
            subtree: true
        };

        setTimeout(function(){
            // pass in the target node, as well as the observer options
            observer.observe($('.observable')[0], config);
        }, 10);
    </script>
</div>